---
import "../styles/global.css";
import { Font } from "astro:assets";
import { ClientRouter } from "astro:transitions";
import LoadingIndicator from "astro-loading-indicator/component";
import BMCWidget from "../components/BMCWidget.jsx";
const { title, description } = Astro.props;

const defaultTitle = "RRK Coder";
const defaultDescription =
  "Myself Rohit Ranjan Kumar, a versatile Software Developer with expertise in Data Engineering. I am skilled in building scalable data pipelines on Azure Databricks, developing full-stack web applications (Angular/FastAPI), and automating processes with Selenium.";

// Handles sites deployed under a sub-path (e.g. /nikola-tesla/)
const BASE = import.meta.env.BASE_URL || "/";
---
<!doctype html>
<html lang="en">
  <head>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />

    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="manifest" href="/site.webmanifest" />

    <meta name="theme-color" content="#0a0a0a" />

    <meta name="generator" content={Astro.generator} />
    <title>{title ?? defaultTitle}</title>
    <meta name="description" content={description ?? defaultDescription} />

    <meta property="og:url" content="https://nikola.fluidinterfaces.com/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content={defaultTitle} />
    <meta property="og:description" content={defaultDescription} />
    <meta property="og:image" content={`${BASE}social-image.jpg`} />

    <meta name="twitter:card" content="summary_large_image" />
    <meta property="twitter:domain" content="nikola.fluidinterfaces.com" />
    <meta property="twitter:url" content="https://nikola.fluidinterfaces.com/" />
    <meta name="twitter:title" content={defaultTitle} />
    <meta name="twitter:description" content={defaultDescription} />
    <meta name="twitter:image" content={`${BASE}social-image.jpg`} />

    <Font cssVariable="--font-geist" preload />
    <ClientRouter />
    <LoadingIndicator color="#f4f4f5" height="2px" />
  </head>
  <body class="font-sans min-h-screen bg-zinc-900">
    <slot />
         <!-- Custom floating Buy Me a Coffee widget -->
    <BMCWidget client:load />
    <p class="text-white">&copy; RRK 2025</p>
  </body>
</html>

<style>
  html, body { margin: 0; width: 100%; height: 100%; }
</style>
